/* ===== SHITCODE: OPERATION CLICKPILLED ===== */
/* "The Button Goes Deeper Than You Know" */

/* ===== RESET & BASE ===== */
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --green:#0f0;--dgreen:#0a0;--pink:#ff2d95;--red:#ff0040;--bg:#0a0a0a;
  --panel:#111;--border:#222;--text:#ccc;--dim:#555;--gold:#ffd700;
  --purple:#8b00ff;--cyan:#0ff;--orange:#f80;
  --crt-glow:0 0 10px rgba(0,255,0,.3);
}
html,body{width:100%;height:100%;overflow:hidden;background:var(--bg);color:var(--green);font-family:'Courier New',monospace;font-size:14px;cursor:default;-webkit-user-select:none;user-select:none}

/* ===== CRT EFFECT ===== */
body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.08) 2px,rgba(0,0,0,.08) 4px);pointer-events:none;z-index:9999}
body::after{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at center,transparent 60%,rgba(0,0,0,.6) 100%);pointer-events:none;z-index:9998}
#crt-flicker{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9997;opacity:0}

/* ===== SCREEN SHAKE ===== */
.shake{animation:shake .1s linear}
.shake-hard{animation:shakeHard .15s linear}
.shake-mega{animation:shakeMega .2s linear}
@keyframes shake{0%,100%{transform:translate(0)}25%{transform:translate(-3px,2px)}50%{transform:translate(3px,-2px)}75%{transform:translate(-2px,-3px)}}
@keyframes shakeHard{0%,100%{transform:translate(0)}20%{transform:translate(-8px,5px)}40%{transform:translate(8px,-5px)}60%{transform:translate(-5px,8px)}80%{transform:translate(5px,-8px)}}
@keyframes shakeMega{0%{transform:translate(0) rotate(0)}20%{transform:translate(-15px,10px) rotate(-2deg)}40%{transform:translate(15px,-10px) rotate(2deg)}60%{transform:translate(-10px,15px) rotate(-1deg)}80%{transform:translate(10px,-15px) rotate(1deg)}100%{transform:translate(0) rotate(0)}}

/* ===== ANIMATIONS ===== */
@keyframes glitch{0%{clip-path:inset(80% 0 0 0);transform:translate(-5px)}20%{clip-path:inset(10% 0 60% 0);transform:translate(5px)}40%{clip-path:inset(40% 0 20% 0);transform:translate(-3px)}60%{clip-path:inset(60% 0 5% 0);transform:translate(4px)}80%{clip-path:inset(5% 0 80% 0);transform:translate(-2px)}100%{clip-path:inset(0);transform:translate(0)}}
@keyframes flicker{0%,100%{opacity:1}50%{opacity:.95}51%{opacity:.85}52%{opacity:1}}
@keyframes chromatic{0%{text-shadow:2px 0 red,-2px 0 cyan}50%{text-shadow:-2px 0 red,2px 0 cyan}100%{text-shadow:2px 0 red,-2px 0 cyan}}
@keyframes chromaticHard{0%{text-shadow:5px 0 red,-5px 0 cyan,0 3px magenta}33%{text-shadow:-5px 0 red,5px 0 cyan,0 -3px yellow}66%{text-shadow:3px 3px red,-3px -3px cyan,5px 0 magenta}100%{text-shadow:5px 0 red,-5px 0 cyan,0 3px magenta}}
@keyframes blink{0%,49%{opacity:1}50%,100%{opacity:0}}
@keyframes pulse{0%,100%{opacity:.6}50%{opacity:1}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
@keyframes floatSlow{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-5px) rotate(1deg)}}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
@keyframes spinSlow{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
@keyframes rainL{0%{transform:translateY(-20px) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(360deg);opacity:0}}
@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes fadeOut{from{opacity:1}to{opacity:0}}
@keyframes typewriter{from{width:0}to{width:100%}}
@keyframes glitchText{0%{transform:skew(0deg)}2%{transform:skew(-5deg)}4%{transform:skew(3deg)}6%{transform:skew(0deg)}100%{transform:skew(0deg)}}
@keyframes corruption{0%{filter:none}10%{filter:hue-rotate(90deg) saturate(3)}11%{filter:none}50%{filter:none}51%{filter:invert(1)}52%{filter:none}100%{filter:none}}
@keyframes vhsTracking{0%{background-position:0 0}100%{background-position:0 -100vh}}

/* ===== EPILEPSY WARNING ===== */
#epilepsy-warning{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:100000;color:#ff0;font-size:18px;text-align:center;padding:40px}
#epilepsy-warning h1{color:#f00;font-size:42px;margin-bottom:20px;text-transform:uppercase;animation:glitchText 3s infinite;letter-spacing:5px}
#epilepsy-warning p{max-width:600px;line-height:1.6;margin-bottom:15px}
#epilepsy-warning button{margin-top:30px;padding:15px 40px;background:none;border:2px solid #ff0;color:#ff0;font-family:inherit;font-size:18px;cursor:pointer;transition:.3s;letter-spacing:2px}
#epilepsy-warning button:hover{background:#ff0;color:#000}
#epilepsy-warning .subtitle{color:#555;font-size:12px;margin-top:5px}

/* ===== TERMINAL PHASE ===== */
#terminal-phase{display:none;width:100%;height:100%;position:relative}
.terminal-container{display:flex;width:100%;height:100%;flex-direction:column}
.terminal-topbar{height:32px;background:#1a1a2e;display:flex;align-items:center;padding:0 12px;border-bottom:1px solid #333;flex-shrink:0}
.terminal-topbar .dots{display:flex;gap:6px}
.terminal-topbar .dot{width:12px;height:12px;border-radius:50%;cursor:pointer;transition:.2s}
.terminal-topbar .dot:hover{transform:scale(1.2)}
.terminal-topbar .dot.r{background:#ff5f56}
.terminal-topbar .dot.y{background:#ffbd2e}
.terminal-topbar .dot.g{background:#27c93f}
.terminal-topbar .title{margin-left:12px;color:#666;font-size:12px}
.terminal-topbar .clock{margin-left:auto;color:#666;font-size:12px;font-variant-numeric:tabular-nums}
.terminal-body{display:flex;flex:1;overflow:hidden}
.terminal-sidebar{width:200px;background:#0d0d1a;border-right:1px solid #222;padding:10px;flex-shrink:0;overflow-y:auto}
.terminal-sidebar .file{padding:4px 8px;color:#558;font-size:12px;cursor:pointer;border-radius:3px;margin-bottom:1px;transition:.2s}
.terminal-sidebar .file:hover{background:#1a1a2e;color:#88f}
.terminal-sidebar .file.active{background:#1a1a2e;color:var(--green)}
.terminal-sidebar .section-header{color:#333;font-size:10px;text-transform:uppercase;letter-spacing:1px;padding:8px 8px 4px;margin-top:8px}
.terminal-main{flex:1;display:flex;flex-direction:column;overflow:hidden;position:relative}
.terminal-editor{flex:1;padding:15px;overflow-y:auto;position:relative;line-height:1.8;counter-reset:line}
.line-num{color:#333;user-select:none;display:inline-block;width:40px;text-align:right;margin-right:15px}
.code-line{white-space:pre}
.code-keyword{color:#c678dd}
.code-string{color:#98c379}
.code-comment{color:#555;font-style:italic}
.code-func{color:#61afef}
.code-var{color:#e06c75}
.code-num{color:#d19a66}
.code-error{color:#f00;text-decoration:wavy underline red}
.code-warning{color:#f80;text-decoration:wavy underline orange}
.terminal-input-area{height:40px;background:#0a0a15;border-top:1px solid #222;display:flex;align-items:center;padding:0 15px;flex-shrink:0}
.terminal-input-area span{color:var(--green);margin-right:8px}
#terminal-input{background:none;border:none;color:var(--green);font-family:inherit;font-size:14px;outline:none;flex:1;caret-color:var(--green)}
.cursor-blink{display:inline-block;width:8px;height:16px;background:var(--green);animation:blink .7s step-end infinite;vertical-align:middle}
.terminal-status{height:24px;background:#1a1a2e;border-top:1px solid #222;display:flex;align-items:center;padding:0 12px;font-size:11px;color:#555;flex-shrink:0;gap:15px}
.terminal-status .error-count{color:#f00;margin-left:auto}
.terminal-popup{position:absolute;background:#1a1a2e;border:1px solid #333;padding:8px 0;border-radius:4px;min-width:280px;z-index:100;box-shadow:0 4px 20px rgba(0,0,0,.5)}
.terminal-popup .item{padding:4px 15px;color:#aaa;font-size:12px;cursor:pointer;display:flex;justify-content:space-between}
.terminal-popup .item:hover{background:#2a2a4e;color:#fff}
.terminal-popup .item .hint{color:#555;font-size:11px}
.system-msg{color:var(--pink);font-style:italic;padding:2px 0;font-size:12px;animation:fadeIn .3s}
.system-msg.warning{color:var(--orange)}
.system-msg.error{color:var(--red)}
.other-user-typing{color:#0ff;font-size:11px;opacity:.6;padding:2px 0}

/* ===== HIDDEN START BUTTON IN TERMINAL ===== */
#terminal-start-btn{position:absolute;bottom:35px;right:15px;padding:8px 20px;background:#0a0a15;border:1px solid var(--green);color:var(--green);font-size:13px;font-family:inherit;cursor:pointer;opacity:.5;transition:.3s;z-index:10;letter-spacing:2px;animation:termStartPulse 2s ease-in-out infinite}
#terminal-start-btn:hover{border-color:var(--green);color:var(--green);opacity:1;box-shadow:var(--crt-glow),0 0 20px rgba(0,255,0,.3);background:#0f1a0f}
@keyframes termStartPulse{0%,100%{box-shadow:0 0 5px rgba(0,255,0,.1)}50%{box-shadow:0 0 15px rgba(0,255,0,.3)}}

/* ===== TRANSITION SCREEN ===== */
#transition-screen{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:50000;flex-direction:column;align-items:center;justify-content:center}
#transition-screen .glitch-text{font-size:48px;color:var(--green);text-shadow:var(--crt-glow);animation:glitch .3s infinite,chromatic .2s infinite}
#transition-screen .sub-text{color:var(--pink);font-size:16px;margin-top:15px;animation:fadeIn .5s}
#transition-screen .sub-text2{color:#555;font-size:12px;margin-top:8px}

/* ===== UNREDACTION SCREEN ===== */
#unredaction-screen{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#0a0a0a;z-index:40000;overflow-y:auto;padding:40px}
.unredact-doc{max-width:700px;margin:0 auto;background:#111;border:1px solid #333;padding:30px;font-size:13px;line-height:1.8}
.unredact-doc .doc-header{color:var(--pink);font-size:18px;margin-bottom:20px;text-align:center;letter-spacing:3px}
.unredact-doc .doc-classification{color:#f00;font-size:11px;text-align:center;margin-bottom:15px;letter-spacing:5px}
.unredact-doc .redacted{background:#fff;color:#fff;cursor:pointer;padding:0 4px;transition:.3s;position:relative;user-select:none}
.unredact-doc .redacted:hover{background:#ddd}
.unredact-doc .redacted.revealed{background:transparent;color:var(--green);text-shadow:var(--crt-glow)}
.unredact-doc .redacted.fake{background:transparent;color:var(--red)}
.unredact-doc .doc-note{color:#555;font-style:italic;margin-top:20px;padding-top:15px;border-top:1px solid #222}
.unredact-doc .doc-sig{color:var(--pink);text-align:right;margin-top:15px;font-style:italic}
.unredact-continue{display:block;margin:30px auto;padding:12px 40px;background:none;border:2px solid var(--green);color:var(--green);font-family:inherit;font-size:16px;cursor:pointer;letter-spacing:2px;transition:.3s}
.unredact-continue:hover{background:rgba(0,255,0,.1);box-shadow:var(--crt-glow)}

/* ===== GAME PHASE ===== */
#game-phase{display:none;width:100%;height:100%;position:relative;overflow:hidden}
.game-container{width:100%;height:100%;display:flex;flex-direction:column}

/* Top Bar */
.game-topbar{height:50px;background:#0a0a15;border-bottom:1px solid var(--green);display:flex;align-items:center;padding:0 20px;flex-shrink:0;z-index:100}
.kirk-meter{flex:1;max-width:300px}
.kirk-meter-label{font-size:10px;color:var(--dim);margin-bottom:2px}
.kirk-meter-bar{width:100%;height:12px;background:#111;border:1px solid #333;border-radius:2px;overflow:hidden}
.kirk-meter-fill{height:100%;background:linear-gradient(90deg,#f00,#ff0,var(--green));transition:width .5s;width:100%}
.kirk-status{font-size:10px;color:var(--green);margin-top:1px}
.level-info{margin-left:30px;text-align:center}
.level-info .level-num{font-size:18px;color:var(--green);text-shadow:var(--crt-glow)}
.level-info .level-name{font-size:10px;color:var(--dim);letter-spacing:1px}
.level-info .dimension{font-size:9px;color:var(--purple);letter-spacing:2px}
.attempt-counter{margin-left:20px;color:var(--pink);font-size:12px}
.timer-display{margin-left:15px;color:#f00;font-size:16px;font-variant-numeric:tabular-nums;text-shadow:0 0 8px rgba(255,0,0,.5)}

/* Main game area */
.game-main{flex:1;display:flex;overflow:hidden;position:relative}
.game-arena{flex:1;position:relative;overflow:hidden;background:#0a0a0a}

/* ===== THREAD PANEL ===== */
.thread-panel{width:300px;background:#0d0d1a;border-left:1px solid #1a3a1a;overflow-y:auto;flex-shrink:0;font-size:12px;padding:0}
.thread-header{background:#1a1a2e;padding:8px 12px;border-bottom:1px solid #333;color:var(--green);font-size:13px;position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center}
.thread-header .thread-board{color:#789922}
.thread-header .thread-count{color:#555;font-size:10px}
.thread-post{padding:8px 12px;border-bottom:1px solid #111;animation:fadeIn .2s}
.thread-post .post-header{display:flex;gap:8px;flex-wrap:wrap;align-items:baseline;margin-bottom:3px}
.thread-post .post-id{color:#789922;font-size:11px}
.thread-post .post-name{color:#117743;font-weight:bold;font-size:11px}
.thread-post .post-name.op{color:#e04000}
.thread-post .post-name.jerry{color:var(--pink)}
.thread-post .post-name.kirk{color:var(--cyan)}
.thread-post .post-name.sc{color:var(--purple)}
.thread-post .post-name.ai{color:var(--red)}
.thread-post .post-date{color:#555;font-size:10px}
.thread-post .post-body{color:#ccc;margin-top:4px;line-height:1.4}
.thread-post .greentext{color:#789922;display:block}
.thread-post .pinktext{color:var(--pink);display:block}
.thread-post .redtext{color:var(--red);display:block;font-weight:bold}
.thread-post .reply-link{color:#789922;cursor:pointer;text-decoration:underline}
.thread-post .file-info{color:#555;font-size:10px;font-style:italic}
.thread-post .glowie{text-shadow:0 0 8px rgba(0,255,0,.5)}
.thread-post .spoiler{background:#000;color:#000;cursor:pointer;padding:0 3px}
.thread-post .spoiler:hover,.thread-post .spoiler.revealed{color:#ccc}
.thread-post .meme-img{display:block;width:80px;height:80px;margin:5px 0;background:#111;border:1px solid #333;font-size:40px;text-align:center;line-height:80px;border-radius:2px}

/* ===== JERRY PANEL ===== */
.jerry-panel{position:fixed;bottom:0;left:0;right:300px;height:0;background:#0a0a15;border-top:2px solid var(--pink);z-index:200;overflow:hidden;transition:height .3s ease}
.jerry-panel.active{height:130px}
.jerry-panel .jerry-header{padding:5px 15px;background:#1a0a1a;font-size:11px;color:var(--pink);display:flex;align-items:center;gap:8px}
.jerry-panel .jerry-avatar{width:24px;height:24px;background:var(--pink);border-radius:50%;font-size:12px;display:flex;align-items:center;justify-content:center;color:#000;font-weight:bold}
.jerry-panel .jerry-status{margin-left:auto;color:#555;font-size:10px}
.jerry-panel .jerry-text{padding:10px 15px;color:#ccc;font-size:13px;line-height:1.5;overflow-y:auto;max-height:90px}
.jerry-panel .jerry-text .emphasis{color:var(--pink);font-weight:bold}
.jerry-panel .jerry-text .green{color:var(--green)}
.jerry-panel .jerry-text .kirk-ref{color:var(--cyan)}
.jerry-panel .jerry-text .caps{text-transform:uppercase;font-weight:bold}

/* ===== KIRK TEXT POPUP ===== */
.kirk-text{position:fixed;top:60px;right:320px;width:280px;background:#111;border:1px solid var(--green);border-radius:8px;padding:12px;z-index:300;display:none;animation:slideIn .3s ease}
.kirk-text .kirk-name{color:var(--green);font-size:11px;margin-bottom:5px;display:flex;align-items:center;gap:6px}
.kirk-text .kirk-name .kirk-icon{width:16px;height:16px;background:var(--cyan);border-radius:50%;font-size:8px;display:flex;align-items:center;justify-content:center;color:#000}
.kirk-text .kirk-msg{color:#ccc;font-size:12px;line-height:1.4}
.kirk-text .kirk-genuinely{color:var(--green);font-weight:bold}

/* ===== THE BUTTON (all variants) ===== */
.start-btn{position:absolute;padding:12px 30px;background:none;border:2px solid var(--green);color:var(--green);font-family:inherit;font-size:16px;font-weight:bold;cursor:pointer;text-transform:uppercase;letter-spacing:3px;transition:all .1s;z-index:50;text-shadow:var(--crt-glow);box-shadow:0 0 15px rgba(0,255,0,.2)}
.start-btn:hover{background:rgba(0,255,0,.1);box-shadow:0 0 30px rgba(0,255,0,.4)}
.start-btn:active{transform:scale(.95)}
.start-btn.fake{border-color:#333;color:#333;text-shadow:none;box-shadow:none}
.start-btn.fake:hover{border-color:#555;color:#555}
.start-btn.ghost{opacity:.05}
.start-btn.boss{border-color:var(--pink);color:var(--pink);text-shadow:0 0 10px rgba(255,45,149,.3);box-shadow:0 0 15px rgba(255,45,149,.2);font-size:20px;padding:15px 40px}
.start-btn.boss:hover{background:rgba(255,45,149,.1)}
.start-btn.quantum{animation:pulse 1s ease infinite;border-style:dashed}
.start-btn.void{border-color:#333;color:#111;text-shadow:0 0 20px rgba(0,0,0,.8);box-shadow:0 0 30px rgba(0,0,0,.5)}

/* ===== SHELL GAME ===== */
.shell{font-size:60px;position:absolute;cursor:pointer;transition:all .5s cubic-bezier(.2,.8,.2,1);user-select:none}
.shell:hover{transform:scale(1.1)!important}

/* ===== CHECKBOXES ===== */
.chaos-checkbox{display:flex;align-items:center;gap:8px;padding:6px 12px;color:#ccc;font-size:13px;cursor:pointer;user-select:none;transition:.2s}
.chaos-checkbox:hover{background:rgba(255,255,255,.03)}
.chaos-checkbox input[type="checkbox"]{width:16px;height:16px;cursor:pointer;accent-color:var(--green)}
.chaos-checkbox.checked{color:var(--green)}
.chaos-checkbox.failed{color:var(--pink);animation:shake .2s}

/* ===== SLIDER ===== */
.chaos-slider-container{position:absolute;width:80%;left:10%;text-align:center}
.chaos-slider{width:100%;height:30px;-webkit-appearance:none;background:#111;border:1px solid #333;border-radius:4px;outline:none;cursor:pointer}
.chaos-slider::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:30px;background:var(--green);cursor:grab;border-radius:4px}
.chaos-slider::-webkit-slider-thumb:active{cursor:grabbing}
.slider-value{font-size:24px;color:var(--green);margin-top:10px;text-shadow:var(--crt-glow)}
.slider-label{color:var(--dim);font-size:12px;margin-top:5px}

/* ===== DATA ENTRY (Dimension 2) ===== */
.data-entry-container{position:absolute;top:5%;left:50%;transform:translateX(-50%);width:500px;max-height:85%;overflow-y:auto;background:#111;border:1px solid #333;padding:25px;border-radius:4px}
.data-entry-title{color:var(--green);font-size:16px;margin-bottom:15px;text-align:center;letter-spacing:2px}
.data-entry-subtitle{color:var(--dim);font-size:11px;text-align:center;margin-bottom:20px}
.data-entry-field{margin-bottom:15px}
.data-entry-field label{display:block;color:#888;font-size:11px;margin-bottom:4px}
.data-entry-field input{width:100%;padding:8px 12px;background:#0a0a15;border:1px solid #333;color:var(--green);font-family:inherit;font-size:14px;outline:none}
.data-entry-field input:focus{border-color:var(--green);box-shadow:0 0 5px rgba(0,255,0,.2)}

/* Tabbed keyboard */
.tabbed-keyboard{display:flex;flex-direction:column;gap:2px}
.tabbed-keyboard .tabs{display:flex;flex-wrap:wrap;gap:2px;margin-bottom:5px}
.tabbed-keyboard .tab{padding:4px 10px;background:#1a1a2e;border:1px solid #333;color:#555;font-size:11px;cursor:pointer;transition:.2s}
.tabbed-keyboard .tab:hover,.tabbed-keyboard .tab.active{background:var(--green);color:#000;border-color:var(--green)}

/* Ouija board */
.ouija-board{position:relative;width:400px;height:300px;margin:0 auto;border:3px solid #432;border-radius:10px;background:#1a1509}
.ouija-letter{position:absolute;color:#654;font-size:18px;cursor:pointer;transition:.3s;user-select:none}
.ouija-letter:hover{color:var(--green);text-shadow:var(--crt-glow);transform:scale(1.5)}
.ouija-letter.active{color:var(--green);text-shadow:0 0 20px var(--green)}
.ouija-planchette{position:absolute;width:30px;height:30px;border:2px solid #654;border-radius:50%;pointer-events:none;transition:all .5s ease;opacity:.5}
.ouija-result{text-align:center;color:var(--green);font-size:18px;margin-top:10px;min-height:24px;letter-spacing:3px}

/* Etch-a-sketch */
.etch-container{text-align:center}
.etch-canvas{border:8px solid #c00;border-radius:15px;cursor:crosshair;background:#b8d8b8;display:block;margin:0 auto}
.etch-controls{display:flex;justify-content:center;gap:20px;margin-top:10px}
.etch-knob{width:40px;height:40px;background:#c00;border-radius:50%;cursor:grab;display:flex;align-items:center;justify-content:center;color:#fff;font-size:20px}
.etch-result{color:var(--green);font-size:14px;margin-top:10px}

/* Passwordle */
.passwordle-grid{display:flex;flex-direction:column;gap:4px;align-items:center;margin:15px 0}
.passwordle-row{display:flex;gap:4px}
.passwordle-cell{width:44px;height:44px;border:2px solid #333;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:bold;color:#fff;text-transform:uppercase;transition:.3s}
.passwordle-cell.correct{background:#538d4e;border-color:#538d4e}
.passwordle-cell.present{background:#b59f3b;border-color:#b59f3b}
.passwordle-cell.absent{background:#3a3a3c;border-color:#3a3a3c}
.passwordle-keyboard{display:flex;flex-wrap:wrap;justify-content:center;gap:4px;max-width:400px;margin:0 auto}
.passwordle-key{padding:8px 12px;background:#818384;border:none;color:#fff;font-family:inherit;font-size:13px;cursor:pointer;border-radius:4px;min-width:30px;text-align:center}
.passwordle-key:hover{background:#a0a0a0}
.passwordle-key.correct{background:#538d4e}
.passwordle-key.present{background:#b59f3b}
.passwordle-key.absent{background:#3a3a3c}

/* ===== CAPTCHA ===== */
.captcha-container{position:absolute;top:5%;left:50%;transform:translateX(-50%);width:370px;background:#111;border:2px solid #333;padding:20px;border-radius:4px}
.captcha-header{color:#ccc;font-size:14px;margin-bottom:15px;text-align:center;padding:10px;background:#0a0a15;border-radius:4px}
.captcha-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:4px}
.captcha-cell{width:105px;height:105px;background:#222;border:2px solid #333;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;color:#666;text-align:center;position:relative;overflow:hidden;transition:.2s}
.captcha-cell:hover{border-color:#555}
.captcha-cell.selected{border-color:var(--green);background:rgba(0,255,0,.05)}
.captcha-cell .noise{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.3;pointer-events:none}
.captcha-verify{display:block;margin:15px auto 0;padding:10px 40px;background:var(--green);border:none;color:#000;font-family:inherit;font-size:14px;cursor:pointer;border-radius:2px;font-weight:bold}
.captcha-verify:hover{background:#0c0}

/* ===== ACHIEVEMENT ===== */
.achievement{position:fixed;top:-80px;left:50%;transform:translateX(-50%);background:#111;border:1px solid var(--gold);color:var(--gold);padding:12px 25px;border-radius:4px;z-index:10000;transition:top .5s;font-size:13px;text-align:center;min-width:250px;box-shadow:0 4px 20px rgba(255,215,0,.2)}
.achievement.show{top:20px}
.achievement .ach-title{font-size:16px;margin-bottom:4px;letter-spacing:1px}
.achievement .ach-desc{color:#888;font-size:11px}

/* ===== COPE/SEETHE/DILATE METER ===== */
.csd-meter{position:fixed;top:60px;left:20px;z-index:200;font-size:11px}
.csd-meter .csd-item{padding:3px 10px;margin-bottom:2px;border-radius:2px;transition:.3s;letter-spacing:1px}
.csd-meter .cope{background:rgba(255,255,0,.1);color:#ff0;border:1px solid rgba(255,255,0,.3)}
.csd-meter .seethe{background:rgba(255,100,0,.1);color:#f80;border:1px solid rgba(255,100,0,.3)}
.csd-meter .dilate{background:rgba(255,0,0,.1);color:#f00;border:1px solid rgba(255,0,0,.3)}
.csd-meter .inactive{opacity:.2}
.csd-meter .active-pulse{animation:pulse 1s infinite}

/* ===== L RAIN ===== */
.l-rain{position:fixed;color:var(--pink);font-size:24px;font-weight:bold;z-index:50;pointer-events:none;animation:rainL 2s linear forwards}

/* ===== GBP DISPLAY ===== */
.gbp-display{position:fixed;top:60px;right:320px;background:#111;border:1px solid var(--gold);padding:4px 12px;border-radius:4px;color:var(--gold);font-size:11px;z-index:200;transition:color .3s;letter-spacing:1px}

/* ===== SC BOX ===== */
.sc-box{position:fixed;bottom:140px;left:50%;transform:translateX(-50%);background:#111;border:2px solid var(--purple);padding:18px 24px;border-radius:8px;z-index:300;display:none;text-align:center;max-width:380px;box-shadow:0 0 30px rgba(139,0,255,.2)}
.sc-box .sc-title{color:var(--purple);font-size:14px;margin-bottom:8px;letter-spacing:2px}
.sc-box .sc-cat{font-size:30px;margin-bottom:8px}
.sc-box .sc-text{color:#ccc;font-size:12px;line-height:1.4;margin-bottom:12px}
.sc-box button{padding:8px 24px;background:none;border:1px solid var(--purple);color:var(--purple);font-family:inherit;cursor:pointer;margin:0 5px;font-size:12px;letter-spacing:1px;transition:.2s}
.sc-box button:hover{background:rgba(139,0,255,.2)}

/* ===== MEME DISPLAY ===== */
.meme-float{position:fixed;pointer-events:none;z-index:80;font-size:40px;animation:float 3s ease-in-out infinite;opacity:.7}
.meme-reaction{position:fixed;bottom:20px;left:20px;font-size:60px;z-index:90;opacity:0;transition:opacity .5s;pointer-events:none}
.meme-reaction.show{opacity:.8}

/* ===== FLOATING TEXT ===== */
.float-text{position:absolute;pointer-events:none;z-index:60;animation:fadeOut 2s forwards;font-size:14px}
.float-text.fail{color:var(--pink)}
.float-text.success{color:var(--green)}
.float-text.taunt{color:var(--orange);font-style:italic}

/* ===== VICTORY / BROWSER NUKE ===== */
#victory-phase{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:99999;background:#000}
.victory-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:100}
.victory-text h1{font-size:60px;color:var(--green);text-shadow:0 0 30px var(--green);animation:chromaticHard .2s infinite}
.victory-text p{color:#ccc;font-size:18px;margin-top:20px;max-width:500px}
.victory-text .stats{color:var(--dim);font-size:12px;margin-top:15px}

/* ===== DIMENSION-SPECIFIC STYLES ===== */
/* D1: Clean corporate (TPUSA) */
.dim-1 .game-arena{background:#0a0a0a}
/* D2: Bureaucratic grey */
.dim-2 .game-arena{background:#0a0a10}
/* D3: Crab caves */
.dim-3 .game-arena{background:#050510;background-image:radial-gradient(circle at 20% 80%, rgba(0,0,80,.1), transparent)}
/* D4: Island */
.dim-4 .game-arena{background:#0a0505}
/* D5: Anunnaki */
.dim-5 .game-arena{background:#05050a;background-image:radial-gradient(circle at 50% 50%, rgba(255,215,0,.02), transparent)}
/* D6: Void */
.dim-6 .game-arena{background:#000}
/* D7: Everything */
.dim-7 .game-arena{animation:corruption 5s infinite}

/* ===== MISC ===== */
.hidden{display:none!important}
.text-center{text-align:center}
.mt-10{margin-top:10px}
.mb-10{margin-bottom:10px}
.arena-text{position:absolute;color:var(--green);font-size:16px;text-align:center;width:80%;left:10%;pointer-events:none}
.arena-subtitle{color:var(--dim);font-size:12px;margin-top:5px}

/* ===== MOBILE STYLES ===== */
@media screen and (max-width: 768px) {
  /* Base adjustments */
  html,body{font-size:12px;overflow:hidden;position:fixed;width:100%;height:100%}

  /* Epilepsy warning */
  #epilepsy-warning{padding:20px}
  #epilepsy-warning h1{font-size:28px;letter-spacing:2px}
  #epilepsy-warning p{font-size:14px;max-width:90%}
  #epilepsy-warning button{padding:12px 25px;font-size:14px}

  /* Terminal phase */
  .terminal-topbar{height:28px;padding:0 8px}
  .terminal-topbar .title{font-size:10px;display:none}
  .terminal-topbar .clock{font-size:10px}
  .terminal-topbar .dots{gap:4px}
  .terminal-topbar .dot{width:10px;height:10px}
  .terminal-sidebar{display:none}
  .terminal-main{width:100%}
  .terminal-editor{padding:10px;font-size:11px;line-height:1.6}
  .line-num{width:25px;margin-right:8px;font-size:10px}
  .terminal-input-area{height:36px;padding:0 10px}
  #terminal-input{font-size:12px}
  .terminal-status{height:20px;font-size:9px;gap:8px;padding:0 8px}
  #terminal-start-btn{bottom:60px;right:10px;padding:12px 24px;font-size:14px}
  .system-msg,.other-user-typing{font-size:10px}

  /* Transition screen */
  #transition-screen .glitch-text{font-size:28px}
  #transition-screen .sub-text{font-size:12px}

  /* Game phase - main layout */
  .game-topbar{height:auto;min-height:40px;padding:5px 10px;flex-wrap:wrap;gap:5px}
  .kirk-meter{max-width:none;width:100%;order:1}
  .kirk-meter-label{font-size:9px}
  .kirk-meter-bar{height:8px}
  .kirk-status{font-size:9px}
  .level-info{margin-left:0;order:2;flex:1}
  .level-info .level-num{font-size:14px}
  .level-info .level-name{font-size:9px}
  .level-info .dimension{font-size:8px}
  .attempt-counter{margin-left:0;font-size:10px;order:3}
  .timer-display{margin-left:auto;font-size:12px;order:4}

  /* Game main - stack vertically, hide thread on mobile by default */
  .game-main{flex-direction:column}
  .game-arena{flex:1;min-height:50vh}

  /* Thread panel - bottom drawer on mobile */
  .thread-panel{width:100%;height:120px;border-left:none;border-top:1px solid #1a3a1a;flex-shrink:0}
  .thread-header{padding:4px 8px;font-size:11px}
  .thread-post{padding:4px 8px}
  .thread-post .post-header{gap:4px}
  .thread-post .post-id,.thread-post .post-name,.thread-post .post-date{font-size:9px}
  .thread-post .post-body{font-size:10px;line-height:1.3}

  /* Jerry panel */
  .jerry-panel{right:0;left:0}
  .jerry-panel.active{height:100px}
  .jerry-panel .jerry-header{padding:3px 10px;font-size:10px}
  .jerry-panel .jerry-avatar{width:18px;height:18px;font-size:10px}
  .jerry-panel .jerry-text{padding:5px 10px;font-size:11px;max-height:65px}

  /* Kirk text */
  .kirk-text{right:10px;left:10px;width:auto;top:auto;bottom:130px;padding:8px}
  .kirk-text .kirk-name{font-size:10px}
  .kirk-text .kirk-msg{font-size:11px}

  /* Buttons */
  .start-btn{padding:10px 20px;font-size:14px;letter-spacing:2px;min-width:120px;min-height:44px}
  .start-btn.boss{padding:12px 25px;font-size:16px}

  /* Shell game */
  .shell{font-size:40px}

  /* Checkboxes */
  .chaos-checkbox{padding:8px 10px;font-size:12px;min-height:40px}
  .chaos-checkbox input[type="checkbox"]{width:20px;height:20px}

  /* Sliders */
  .chaos-slider-container{width:90%;left:5%}
  .chaos-slider{height:40px}
  .chaos-slider::-webkit-slider-thumb{width:30px;height:40px}
  .slider-value{font-size:20px}

  /* Data entry */
  .data-entry-container{width:95%;left:50%;padding:15px}
  .data-entry-title{font-size:14px}
  .data-entry-field input{padding:10px;font-size:16px}

  /* Tabbed keyboard */
  .tabbed-keyboard .tab{padding:8px 12px;font-size:12px}

  /* Ouija board */
  .ouija-board{width:100%;max-width:320px;height:240px}
  .ouija-letter{font-size:14px}

  /* Passwordle */
  .passwordle-cell{width:36px;height:36px;font-size:16px}
  .passwordle-key{padding:10px 8px;font-size:12px;min-width:26px}

  /* Captcha */
  .captcha-container{width:95%;padding:12px}
  .captcha-header{font-size:12px;padding:8px}
  .captcha-grid{grid-template-columns:repeat(3,1fr)}
  .captcha-cell{width:auto;height:80px}
  .captcha-verify{padding:12px 30px;font-size:14px}

  /* Achievement */
  .achievement{min-width:200px;padding:10px 15px}
  .achievement .ach-title{font-size:14px}
  .achievement .ach-desc{font-size:10px}

  /* CSD meter */
  .csd-meter{top:auto;bottom:125px;left:10px;font-size:9px}
  .csd-meter .csd-item{padding:2px 6px}

  /* GBP display */
  .gbp-display{top:auto;bottom:125px;right:10px;font-size:10px;padding:3px 8px}

  /* SC box */
  .sc-box{width:90%;max-width:none;padding:12px 15px;bottom:auto;top:50%;transform:translate(-50%,-50%)}
  .sc-box .sc-title{font-size:12px}
  .sc-box .sc-cat{font-size:24px}
  .sc-box .sc-text{font-size:11px}
  .sc-box button{padding:10px 20px;font-size:12px}

  /* Victory */
  .victory-text h1{font-size:32px}
  .victory-text p{font-size:14px}
  .victory-stats{padding:20px;width:90%}
  .stat-line{font-size:12px}
  .aura-line{font-size:16px}

  /* Unredaction */
  .unredact-overlay{padding:15px}
  .unredact-doc{padding:15px;font-size:12px}
  .unredact-classification{font-size:8px;letter-spacing:2px}
  .unredact-title{font-size:14px;letter-spacing:2px}
  .unredact-continue{padding:10px 25px;font-size:14px}
}

/* Extra small devices */
@media screen and (max-width: 380px) {
  #epilepsy-warning h1{font-size:22px}
  #epilepsy-warning p{font-size:12px}
  #epilepsy-warning button{padding:10px 20px;font-size:12px}

  .game-topbar{padding:3px 5px}
  .level-info .level-num{font-size:12px}
  .timer-display{font-size:10px}

  .start-btn{padding:8px 16px;font-size:12px;min-height:40px}

  .thread-panel{height:100px}

  .jerry-panel.active{height:80px}
  .jerry-panel .jerry-text{font-size:10px}

  .passwordle-cell{width:30px;height:30px;font-size:14px}
  .passwordle-key{padding:8px 6px;font-size:10px;min-width:22px}

  #transition-screen .glitch-text{font-size:22px}
}

/* Landscape mode on mobile */
@media screen and (max-width: 768px) and (orientation: landscape) {
  .game-topbar{min-height:30px;padding:2px 10px}
  .kirk-meter{display:none}
  .thread-panel{height:80px}
  .jerry-panel.active{height:70px}
  .game-arena{min-height:40vh}
}

/* Touch-friendly tap targets */
@media (hover: none) and (pointer: coarse) {
  .start-btn,.chaos-checkbox,.tabbed-keyboard .tab,.passwordle-key,.captcha-cell,.sc-box button,.unredact-continue,#terminal-start-btn,#warning-accept{
    min-height:44px;
    min-width:44px;
  }
  .chaos-checkbox{min-height:48px}
  .shell{font-size:50px}
}
